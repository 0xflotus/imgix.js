"use strict";(function(){function a(a,b,c){return a&b|~a&c}function b(a,b,c){return a&c|b&~c}function c(a,b,c){return a^b^c}function d(a,b,c){return b^(a|~c)}function e(a){return String.fromCharCode(255&a)+String.fromCharCode(255&a>>>8)+String.fromCharCode(255&a>>>16)+String.fromCharCode(255&a>>>24)}function f(a){for(;0>a;)a+=4294967296;for(;a>4294967295;)a-=4294967296;return a}function g(a,b,c,d,e){var g,h,i,j,k,l,m,o,p;g=d[0],h=d[1],i=d[2],j=d[3],k=e[0],l=e[1],m=e[2],p=c(b[h],b[i],b[j]),o=b[g]+p+a[k]+n[m],o=f(o),o=o<<l|o>>>32-l,o+=b[h],b[g]=f(o)}function h(a){var b,c,d,h,i,j,k,l,m,n,o,p,q;if(d=new Array(1732584193,4023233417,2562383102,271733878),i=a.length,j=63&i,k=56>j?56-j:120-j,k>0)for(a+="Â€",n=0;k-1>n;n++)a+="\x00";for(a+=e(8*i),a+=e(0),i+=k+8,b=new Array(0,1,2,3),c=new Array(16),h=new Array(4),p=0;i>p;p+=64){for(n=0,o=p;16>n;n++,o+=4)c[n]=a.charCodeAt(o)|a.charCodeAt(o+1)<<8|a.charCodeAt(o+2)<<16|a.charCodeAt(o+3)<<24;for(n=0;4>n;n++)h[n]=d[n];for(n=0;4>n;n++)for(l=s[n][0],m=s[n][1],o=0;16>o;o++)g(c,h,l,b,m[o]),q=b[0],b[0]=b[3],b[3]=b[2],b[2]=b[1],b[1]=q;for(n=0;4>n;n++)d[n]+=h[n],d[n]=f(d[n])}return e(d[0])+e(d[1])+e(d[2])+e(d[3])}function i(a){var b,c,d,e;for(e=h(a),c="",b=0;16>b;b++)d=e.charCodeAt(b),c+="0123456789abcdef".charAt(15&d>>4),c+="0123456789abcdef".charAt(15&d);return c}var j=this,k={};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports.imgix=k):j.imgix=k,k._setImgixClass=function(a){var b=k._getXPathClass(k._getElementTreeXPath(a));return a.classList.add(b),b},k._getXPathClass=function(a){return a=a?a:(new Date).getTime().toString(),"imgix-el-"+k.md5(a)},k._getElementTreeXPath=function(a){for(var b=[];a&&a.nodeType==Node.ELEMENT_NODE;a=a.parentNode){for(var c=0,d=a.previousSibling;d;d=d.previousSibling)d.nodeType!=Node.DOCUMENT_TYPE_NODE&&d.nodeName==a.nodeName&&++c;var e=(a.prefix?a.prefix+":":"")+a.localName,f=c?"["+(c+1)+"]":"";b.splice(0,0,e+f)}return b.length?"/"+b.join("/"):null},k.getFontLookup=function(){return{"American Typewriter":"American Typewriter","American Typewriter Bold":"American Typewriter,bold","American Typewriter Condensed":"American Typewriter Condensed","American Typewriter Condensed Bold":"American Typewriter Condensed,bold","American Typewriter Condensed Light":"American Typewriter Condensed Light","American Typewriter Light":"American Typewriter Light","Andale Mono":"Andale Mono",Arial:"Arial","Arial Black":"Arial Black","Arial Bold":"Arial,bold","Arial Bold Italic":"Arial,bold,italic","Arial Italic":"Arial,italic",Baskerville:"Baskerville","Big Caslon":"Big Caslon","Brush Script MT":"Brush Script MT",Cochin:"Cochin",Copperplate:"Copperplate",Courier:"Courier","Courier Bold":"Courier,bold","Courier Oblique":"Courier Oblique",Didot:"Didot",Futura:"Futura","Futura Condensed":"Futura Condensed Medium","Futura Italic":"Futura Medium,italic",Georgia:"Georgia","Georgia Bold":"Georgia,bold","Georgia Bold Italic":"Georgia,bold,italic","Georgia Italic":"Georgia,italic","Gill Sans":"Gill Sans","Gill Sans Bold":"Gill Sans,bold","Gill Sans Bold Italic":"Gill Sans,bold,italic","Gill Sans Italic":"Gill Sans,italic","Gill Sans Light":"Gill Sans Light","Gill Sans Light Italic":"Gill Sans Light,italic",Helvetica:"Helvetica","Helvetica Bold":"Helvetica,bold","Helvetica Light":"Helvetica Light","Helvetica Light Oblique":"Helvetica Light Oblique","Helvetica Neue":"Helvetica Neue","Helvetica Neue Bold":"Helvetica Neue,bold","Helvetica Neue Bold Italic":"Helvetica Neue,bold,italic","Helvetica Neue Condensed Black":"Helvetica Neue Condensed Black","Helvetica Neue Condensed Bold":"Helvetica Neue Condensed,bold","Helvetica Neue Light":"Helvetica Neue Light","Helvetica Neue Light Italic":"Helvetica Neue Light,italic","Helvetica Neue Medium":"Helvetica Neue Medium","Helvetica Neue UltraLight":"Helvetica Neue UltraLight","Helvetica Neue UltraLight Italic":"Helvetica Neue UltraLight,italic","Helvetica Oblique":"Helvetica Oblique",Herculanum:"Herculanum",Impact:"Impact","Marker Felt Thin":"Marker Felt Thin","Marker Felt Wide":"Marker Felt Wide",Optima:"Optima","Optima Bold":"Optima,bold","Optima Bold Italic":"Optima,bold,italic","Optima ExtraBlack":"Optima ExtraBlack","Optima Italic":"Optima,italic",Papyrus:"Papyrus","Papyrus Condensed":"Papyrus Condensed",Times:"Times","Times Bold":"Times,bold","Times Bold Italic":"Times,bold,italic","Times Italic":"Times,italic","Times New Roman":"Times New Roman","Times New Roman Bold":"Times New Roman,bold","Times New Roman Bold Italic":"Times New Roman,bold,italic","Times New Roman Italic":"Times New Roman,italic","Trebuchet MS":"Trebuchet MS","Trebuchet MS Bold":"Trebuchet MS,bold","Trebuchet MS Bold Italic":"Trebuchet MS,bold,italic","Trebuchet MS Italic":"Trebuchet MS,italic",Verdana:"Verdana","Verdana Bold":"Verdana,bold","Verdana Bold Italic":"Verdana,bold,italic","Verdana Italic":"Verdana,italic",Zapfino:"Zapfino"}},k.getFonts=function(){return Object.keys(k.getFontLookup())},k.searchFonts=function(a){return a=a.toLowerCase(),k.getFonts().filter(function(b){return-1!==b.toLowerCase().indexOf(a)})},k.isFontAvailable=function(a){return k.isDef(k.getFontLookup()[a])},k.getParamAliases=function(){return{t:"txt",tf:"txtfont",tsz:"txtsize",tl:"txtline",tsh:"txtshad",tp:"txtpad",txtlinecolor:"txtlineclr",ta:"txtalign",intensity:"int",colorize:"col",f:"fit",orient:"or",m:"watermark",mf:"markfit",ms:"markscale",ma:"markalign",mp:"markpad"}},k.getDefaultParamValues=function(){return{sepia:"0",px:"0",htn:"0",blur:"0",col:"","int":"100",hue:"0",sat:"0",bri:"0",con:"0",exp:"0",high:"0",shad:"0",gam:"0",vib:"0",sharp:"0",txt:"",txtfont:"Helvetica",txtsize:"12",txtclr:"000000",txtalign:"bottom,right",txtshad:"0",txtpad:"10",txtline:"0",txtlineclr:"ffffff",rect:"",dpr:"1",fit:"clip",flip:"",or:"0",crop:"",rot:"0",h:"0",w:"0",fm:"",q:75,mark:"",markw:"",markh:"",markfit:"clip",markscale:"",markalign:"bottom,right",markalpha:100,markpad:5,palette:"",colors:"","class":"",auto:"",mask:"",bg:""}},k.getDefaultParamValue=function(a){return k.getDefaultParamValues()[a]},k.getDefaultParams=function(){return Object.keys(k.getDefaultParamValues())},k._makeCssClass=function(a){return"tmp_"+k.md5(a)},k._injectStyleSheet=function(a){var b=document.createElement("link");b.type="text/css",b.rel="stylesheet",b.href=a,document.getElementsByTagName("head")[0].appendChild(b)},k._findInjectedStyleSheet=function(a){if(document.styleSheets)for(var b=0;b<document.styleSheets.length;b++)if(document.styleSheets[b].href===a)return!0;return!1},k._getCssProperty=function(a,b){var c=document.getElementById(a);return window.getComputedStyle(c,null).getPropertyValue(b)},k.URL=function(a,b,c,d){this.token=c||"",this._autoUpdateSel=null,this._autoUpdateCallback=null,this.isRj=k.isDef(d)?d:!1,this.urlParts=this.isRj?k.parseRjUrl(a):k.parseUrl(a),"object"==typeof b&&this.setParams(b),this.paramAliases={}},k.createParamString=function(){return new k.URL("")},k._updateVersion={};var l={};k.URL.prototype.getColors=function(a,b){var c=new k.URL(this.getUrl()),d=[],e=k._makeCssClass(this.getUrl());c.setPaletteColorNumber(a),c.setPalette("css"),c.setPaletteClass(e);var f=c.getUrl();k._injectStyleSheet(f);var g=function(){k._findInjectedStyleSheet(f)?setTimeout(function(){for(var c=1;a>=c;c++)!function(a){var b=document.createElement("span");b.id=e+"-"+a,b.className=e+"-fg-"+a,document.body.appendChild(b);var c=k._getCssProperty(b.id,"color");d.push(c),document.body.removeChild(b)}(c);l[f]=d,b&&b(d)},200):setTimeout(g,100)};l.hasOwnProperty(f)?b&&b(l[f]):g()},k.URL.prototype._handleAutoUpdate=function(){function a(a){return"img"===a.tagName.toLowerCase()}function b(a){return m===i._autoUpdateSel&&a===k._updateVersion[m]}function c(a,c){c in n||(n[c]=[],function(){var a=document.createElement("img"),e=k._updateVersion[m],f=(new Date).getTime();a.src=c,a.onload=a.onerror=function(){if(b(e))for(var a=0;a<n[c].length;a++)if(d(n[c][a],c),l++,"function"==typeof i._autoUpdateCallback){var g="."+k._setImgixClass(n[c][a]),h={element:document.querySelector(g),className:g,isComplete:l===j,percentComplete:100*(l/j),totalComplete:l,loadTime:(new Date).getTime()-f,total:j};i._autoUpdateCallback(h)}}}()),n[c].push(a)}function d(b,c){if(a(b))b.src=c;else{var d=f(b);d?b.style.cssText=b.style.cssText.replace(d,c):b.style.backgroundImage="url("+c+")"}}function e(a){return a.style.cssText.match(/url\(([^\)]+)/)}function f(a){var b=e(a);return b?2===b.length?b[1]:"":""}function g(b){return a(b)?b.src:f(b)}function h(a){var b=g(a),d=b;b&&-1!==b.indexOf("?")&&(d=b.split("?")[0]),i.getBaseUrl()?c(a,i.getUrl()):d&&i.getQueryString()?c(a,d+"?"+i.getQueryString()):l++}var i=this,j=0,l=0,m=this._autoUpdateSel,n={};if(k.isDef(k._updateVersion[m])?k._updateVersion[m]++:k._updateVersion[m]=1,null!==this._autoUpdateSel){var o=document.querySelectorAll(this._autoUpdateSel);if(j=o.length,o&&1===j)h(o[0]);else for(var p=0;j>p;p++)h(o[p])}},k.URL.prototype.autoUpdateImg=function(a,b){this._autoUpdateSel=a,this._autoUpdateCallback=b,this._handleAutoUpdate()},k.URL.prototype.setUrl=function(a){this.urlParts=this.isRj?k.parseRjUrl(a):k.parseUrl(a)},k.URL.prototype.setURL=function(a){return this.setUrl(a)},k.URL.prototype.getURL=function(){return this.getUrl()},k.URL.prototype.getUrl=function(){var a=this.isRj?k.buildRjUrl(this.urlParts):k.buildUrl(this.urlParts);return this.token?this.isRj?k.signRjUrl(a,this.token):k.signUrl(a,this.token):a},k.URL.prototype.removeParam=function(a){this.urlParts.paramValues.hasOwnProperty(a)&&(delete this.urlParts.paramValues[a],this.urlParts.params=Object.keys(this.urlParts.paramValues))},k.URL.prototype.clearThenSetParams=function(a){this.clearParams(!1),this.setParams(a)},k.URL.prototype.clearParams=function(a){a=k.isDef(a)?a:!0;for(var b in this.urlParts.paramValues)this.removeParam(b);a&&this._handleAutoUpdate()},k.URL.prototype.setParams=function(a,b){for(var c in a)this.setParam(c,a[c],b,!0);this._handleAutoUpdate()},k.URL.prototype.setParam=function(a,b,c,d){if(a=a.toLowerCase(),c=k.isDef(c)?c:!0,d=k.isDef(d)?d:!1,"mark"===a&&decodeURIComponent(b)===b&&(b=encodeURIComponent(b)),-1===k.getDefaultParams().indexOf(a))return console.warn('"'+a+'" is an invalid imgix param'),void 0;if(c||!this.urlParts.paramValues[a]){if("txtfont"===a&&k.isDef(k.isFontAvailable(b))&&(b=k.getFontLookup()[b]),k.getDefaultParamValue(a)===b||!k.isDef(b)||0===b.length)return this.removeParam(a),void 0;-1===this.urlParts.params.indexOf(a)&&this.urlParts.params.push(a),this.urlParts.paramValues[a]=String(b),d||this._handleAutoUpdate()}},k.URL.prototype.getParam=function(a){if("mark"===a){var b=this.urlParts.paramValues[a];return decodeURIComponent(b)!==b?decodeURIComponent(b):b}return this.urlParts.paramValues[a]},k.URL.prototype.getParams=function(){return this.urlParts.paramValues?this.urlParts.paramValues:{}},k.URL.prototype.getBaseUrl=function(){var a=this.getUrl();return-1!==a.indexOf("?")&&(a=this.getUrl().split("?")[0]),a!=window.location.href?a:""},k.URL.prototype.getQueryString=function(){var a=this.getUrl();return-1!==a.indexOf("?")?this.getUrl().split("?")[1]:""},k.URL.theGetSetFuncs=Object.freeze({crop:"Crop",fit:"Fit",h:"Height",w:"Width",rot:"Rotate",flip:"Flip",or:"Orient",hue:"Hue",sat:"Saturation",bri:"Brightness",con:"Contrast",exp:"Exposure",high:"Highlight",shad:"Shadow",gam:"Gamma",vib:"Vibrance",sharp:"Sharpness",sepia:"Sepia",htn:"Halftone",blur:"Blur",col:"Colorize",px:"Pixelate",txt:"Text",txtfont:"TextFont",txtsize:"TextSize",txtclr:"TextColor",txtalign:"TextAlign",txtshad:"TextShadow",txtpad:"TextPad",txtline:"TextLine",txtlineclr:"TextLineColor",fm:"Format",q:"Quality",mark:"Watermark",markw:"WatermarkWidth",markh:"WatermarkHeight",markfit:"WatermarkFit",markscale:"WatermarkScale",markalign:"WatermarkAlign",markalpha:"WatermarkAlpha",markpad:"WatermarkPadding",palette:"Palette","class":"PaletteClass",colors:"PaletteColorNumber",auto:"Auto",mask:"Mask",bg:"Background"});for(var m in k.URL.theGetSetFuncs)!function(){var a=m;k.URL.prototype["set"+k.URL.theGetSetFuncs[a]]=function(b,c){this.setParam(a,b,c)},k.URL.prototype["get"+k.URL.theGetSetFuncs[a]]=function(){return this.getParam(a)}}();k.parseRjUrl=function(a){var b=["protocol","hostname","port","pathname","search","hash","host"],c=document.createElement("a"),d={};c.href=a;for(var e=c.pathname.split("p:"),f=e[0],g=e[1]&&-1!==e[1].indexOf("=")?e[1].match(/([^/]+)/)[1]:"",h=e[1]?e[1].replace(g,""):"",i=0;i<b.length;i++)d[b[i]]=c[b[i]];if(d.pathname=h,d.search=g,d.sig=f||"",d.paramValues={},d.params=[],d.baseUrl=h,-1!==f.indexOf(".")&&(d.baseUrl=a.split("?")[0]),g&&g.length>0)for(var e=g.split("&"),j=0;j<e.length;j++){var k=e[j].split("=");k[0]&&k[0].length&&(d.paramValues[k[0]]=2===k.length?k[1]:"",d.params.push(k[0]))}return d},k.buildRjUrl=function(a){var b=a.protocol+"//"+a.host+a.sig;if(a.params.length>0){for(var c=[],d=0;d<a.params.length;d++)a.paramValues[a.params[d]].length>0&&c.push(a.params[d]+"="+a.paramValues[a.params[d]]);b+="p:"+c.join("&")}else b+="p:";return b+=a.pathname,b+a.hash},k.parseUrl=function(a){var b=["protocol","hostname","port","pathname","search","hash","host"],c={},d=document.createElement("a");d.href=a;for(var e=0;e<b.length;e++)c[b[e]]=d[b[e]];var f=c.search;if(c.paramValues={},c.params=[],c.baseUrl=a.split("?")[0],f&&f.length>0){"?"===f[0]&&(f=f.substr(1,f.length));for(var g=f.split("&"),h=0;h<g.length;h++){var i=g[h].split("=");i[0]&&i[0].length&&"s"!==i[0]&&(c.paramValues[i[0]]=2===i.length?i[1]:"",-1===c.params.indexOf(i[0])&&c.params.push(i[0]))}}return c},k.buildUrl=function(a){var b=a.protocol+"//"+a.host+a.pathname;if(a.params.length>0){a.params=a.params.map(function(a){return a.toLowerCase()}),a.params=a.params.filter(function(a,b,c){return c.indexOf(a)===b}),a.params=a.params.sort(function(a,b){return b>a?-1:a>b?1:0});for(var c=[],d=0;d<a.params.length;d++)a.paramValues[a.params[d]].length>0&&c.push(a.params[d]+"="+a.paramValues[a.params[d]]);b+="?"+c.join("&")}return b},k.signRjUrl=function(a,b){var c=k.parseUrl(a),d=c.pathname.match(/([\w\-_*]+)/g),e=d[0];return sig_location=a.indexOf(e)+e.length+1,rest=a.substr(sig_location),find_path=rest.match(/([^\/]+)(.+)/g),path=find_path[1],args="/"+rest.replace(path,""),concat=b+args,new_sig=k.safe_btoa_encode(h(concat)).substr(0,8),new_url=a.replace(e,new_sig),new_url},k.signUrl=function(a,b){if(b){var c=k.parseUrl(a),d=k.md5(b+c.pathname+c.search);-1===a.indexOf("?")?(d=k.md5(b+c.pathname),a=a+"?s="+d):a=a+"&s="+d}return a},k.isDef=function(a){return"undefined"!=typeof a},k.safe_btoa_encode=function(a){return window.btoa(a).replace(/\+/g,"-").replace(/\//g,"_")},k.safe_btoa_decode=function(a){return window.atob(a.replace(/\-+/g,"+").replace(/_+/g,"/"))},k.md5=function(a){return i(a)};var n=new Array(0,3614090360,3905402710,606105819,3250441966,4118548399,1200080426,2821735955,4249261313,1770035416,2336552879,4294925233,2304563134,1804603682,4254626195,2792965006,1236535329,4129170786,3225465664,643717713,3921069994,3593408605,38016083,3634488961,3889429448,568446438,3275163606,4107603335,1163531501,2850285829,4243563512,1735328473,2368359562,4294588738,2272392833,1839030562,4259657740,2763975236,1272893353,4139469664,3200236656,681279174,3936430074,3572445317,76029189,3654602809,3873151461,530742520,3299628645,4096336452,1126891415,2878612391,4237533241,1700485571,2399980690,4293915773,2240044497,1873313359,4264355552,2734768916,1309151649,4149444226,3174756917,718787259,3951481745),o=new Array(new Array(0,7,1),new Array(1,12,2),new Array(2,17,3),new Array(3,22,4),new Array(4,7,5),new Array(5,12,6),new Array(6,17,7),new Array(7,22,8),new Array(8,7,9),new Array(9,12,10),new Array(10,17,11),new Array(11,22,12),new Array(12,7,13),new Array(13,12,14),new Array(14,17,15),new Array(15,22,16)),p=new Array(new Array(1,5,17),new Array(6,9,18),new Array(11,14,19),new Array(0,20,20),new Array(5,5,21),new Array(10,9,22),new Array(15,14,23),new Array(4,20,24),new Array(9,5,25),new Array(14,9,26),new Array(3,14,27),new Array(8,20,28),new Array(13,5,29),new Array(2,9,30),new Array(7,14,31),new Array(12,20,32)),q=new Array(new Array(5,4,33),new Array(8,11,34),new Array(11,16,35),new Array(14,23,36),new Array(1,4,37),new Array(4,11,38),new Array(7,16,39),new Array(10,23,40),new Array(13,4,41),new Array(0,11,42),new Array(3,16,43),new Array(6,23,44),new Array(9,4,45),new Array(12,11,46),new Array(15,16,47),new Array(2,23,48)),r=new Array(new Array(0,6,49),new Array(7,10,50),new Array(14,15,51),new Array(5,21,52),new Array(12,6,53),new Array(3,10,54),new Array(10,15,55),new Array(1,21,56),new Array(8,6,57),new Array(15,10,58),new Array(6,15,59),new Array(13,21,60),new Array(4,6,61),new Array(11,10,62),new Array(2,15,63),new Array(9,21,64)),s=new Array(new Array(a,o),new Array(b,p),new Array(c,q),new Array(d,r))}).call(this);