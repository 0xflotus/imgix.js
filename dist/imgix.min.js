(function t(r,i,s){function e(n,o){if(!i[n]){if(!r[n]){var h=typeof require=="function"&&require;if(!o&&h)return h(n,!0);if(a)return a(n,!0);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[n]={exports:{}};r[n][0].call(c.exports,function(t){var i=r[n][1][t];return e(i?i:t)},c,c.exports,t,r,i,s)}return i[n].exports}var a=typeof require=="function"&&require;for(var n=0;n<s.length;n++)e(s[n]);return e})({1:[function(t,r,i){var s=t("./util.js"),e=t("./targetWidths.js");var a=function(){function t(t){this.el=t;if(!this.el){throw new Error("ImgixTag must be passed a DOM element.")}if(this.el.hasAttribute("ix-initialized")){return}this.ixPathVal=t.getAttribute("ix-path");this.ixParamsVal=t.getAttribute("ix-params");this.ixSrcVal=t.getAttribute("ix-src");if(this.ixPathVal&&!imgix.config.host){throw new Error("You must set a value for `imgix.config.host` to use `ix-path` and `ix-params`.")}this.baseParams=this._extractBaseParams();this.baseUrl=this._buildBaseUrl();this.baseUrlWithoutQuery=this.baseUrl.split("?")[0];this.el.setAttribute("sizes",this.sizes());this.el.setAttribute("srcset",this.srcset());if(this.el.nodeName=="IMG"){this.el.setAttribute("src",this.src())}this.el.setAttribute("ix-initialized","ix-initialized")}t.prototype._extractBaseParams=function(){var t;if(this.ixPathVal){t=JSON.parse(this.ixParamsVal)||{}}else{var r=this.ixSrcVal.lastIndexOf("?"),i=this.ixSrcVal.substr(r+1),e=i.split("&");t={};for(var a=0,n;a<e.length;a++){n=e[a].split("=");t[n[0]]=n[1]}}for(var o in t){if(o.substr(-2)==="64"){t[o]=s.encode64(t[o])}}return t};t.prototype._buildBaseUrl=function(){if(this.ixSrcVal){return this.ixSrcVal}else{var t=this.ixPathVal,r="http";if(imgix.config.useHttps){r+="s"}var i=r+"://"+imgix.config.host,s=imgix.config.host.substr(-1)==="/",e=t[0]==="/";if(s&&e){i+=t.substr(1)}else if(!s&&!e){i+="/"+t}else{i+=t}i+="?";var a=[],n;for(var o in this.baseParams){n=this.baseParams[o];a.push(encodeURIComponent(o)+"="+encodeURIComponent(n))}i+=a.join("&");return i}};t.prototype.src=function(){return this.baseUrl};t.prototype.srcset=function(){var t=[];for(var r=0,i,a,n;r<e.length;r++){i=e[r];a=s.clone(this.baseParams);a.w=i;if(this.baseParams.w!=null&&this.baseParams.h!=null){a.h=Math.round(i*(this.baseParams.h/this.baseParams.w))}n=this.baseUrlWithoutQuery+"?";var o,h=[];for(var u in a){o=a[u];h.push(u+"="+o)}n+=h.join("&");t.push(n+" "+i+"w")}return t.join(", ")};t.prototype.sizes=function(){var t=this.el.getAttribute("sizes");if(t){return t}else{return"100vw"}};return t}();r.exports=a},{"./targetWidths.js":3,"./util.js":4}],2:[function(t,r,i){(function(r){var i=t("./ImgixTag.js"),s=["img[ix-src]","source[ix-src]","img[ix-path]","source[ix-path]"].join(",");r.imgix={init:function(){var t=document.querySelectorAll(s);for(var r=0,e;r<t.length;r++){new i(t[r])}},config:{host:null,useHttps:true}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./ImgixTag.js":1}],3:[function(t,r,i){var s=t("./util.js");var e=2560*2;var a=100;var n={cssWidth:320,dpr:1};var o={cssWidth:320,dpr:2};var h={cssWidth:375,dpr:2};var u={cssWidth:360,dpr:4};var c={cssWidth:414,dpr:3};var d={cssWidth:736,dpr:3};var p={cssWidth:412,dpr:3.5};var l={cssWidth:690,dpr:3.5};var f={cssWidth:432,dpr:2.5};var v={cssWidth:768,dpr:2.5};var x={cssWidth:360,dpr:3};var g={cssWidth:640,dpr:3};var m={cssWidth:360,dpr:4};var W={cssWidth:640,dpr:4};var b={cssWidth:768,dpr:1};var w={cssWidth:1024,dpr:1};var y={cssWidth:768,dpr:2};var P={cssWidth:1024,dpr:2};var U={cssWidth:1024,dpr:2};var j={cssWidth:1366,dpr:2};var I={cssWidth:576,dpr:1};var V={cssWidth:576,dpr:2};var A={cssWidth:720,dpr:1};var S={cssWidth:720,dpr:2};var _={cssWidth:940,dpr:1};var O={cssWidth:940,dpr:2};var q={cssWidth:1140,dpr:1};var z={cssWidth:1140,dpr:2};var N=[n,o,h,u];var C=[b,w,y,P,U,j];var M=[c,d,p,l,f,v,x,g,m,W];var R=[I,V,A,S,_,O,q,z];function B(){return N.concat(M,C,R)}function E(){var t,r,i;var s=B();var e=[];for(r=0,i=s.length;r<i;r++){t=s[r];e.push(t.cssWidth*t.dpr)}return e}function T(){var t=[];for(var r=a;r<e;r+=a){t.push(r)}t.push(e);return t}function D(){var t=typeof window!=="undefined",r=E().concat(T()),i=[],e=t?window.devicePixelRatio:1,n=t?Math.max(window.screen.availWidth,window.screen.availHeight):Infinity,o=a,h=t?n*e:Infinity;var u,c;for(c=0;c<r.length;c++){u=r[c];if(u<=h&&u>=o){i.push(u)}}i.push(h);return s.uniq(i).sort(function(t,r){return t-r})}r.exports=D()},{"./util.js":4}],4:[function(t,r,i){r.exports={compact:function(t){var r=[];for(var i=0;i<t.length;i++){t[i]&&r.push(t[i])}return r},clone:function(t){return JSON.parse(JSON.stringify(t))},uniq:function(t){var r={},i=[],s;for(s=0;s<t.length;s++){if(!r[t[s]]){r[t[s]]=true;i.push(t[s])}}return i},encode64:function(t){var r=unescape(encodeURIComponent(t)),i=btoa(r),s=i.replace(/\+/g,"-");s=s.replace(/\//g,"_").replace(/\//g,"_").replace(/\=+$/,"");return s},decode64:function(t){var r=t.replace(/-/g,"+").replace(/_/g,"/"),i=atob(r),s=decodeURIComponent(escape(i));return s}}},{}]},{},[2]);
